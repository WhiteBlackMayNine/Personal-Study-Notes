---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
buff系统设计思路 ^aN3HnH28

一个buff 应该要有三个事件进行监听
OnAdd —> 添加时 触发一个效果
OnUpdate  —> 进行计时更新、处理层数
OnRemove —> 移除时触发一个效果（一般都是恢复至原样） ^AJhfixWG

设计思路一 ^pHTP1c8Z

本项目Buff系统（猜测）
~~策划案还没写~~
经营系统菜品 添加 buff
地下城持续一整局
地下城结束 清空所有Buff ^dP4U4ohK

BuffBase<T> T为Buff生效时修改的对象
修改 moveSpeed 就添加 PMC
buffItem —> 各个buff 的具体脚本
同时 BuffBase 也写有各个虚函数
供buffItem使用
例如：Buff效果、添加函数、移除函数
PlayerBuffController  管理并控制所有buff ^d5CxGnK1

缺点 ^KNvuaPaC

buff没办法放到一个List中
虽然确实可以用GEM的思路来存储
但感觉还是过于麻烦
在循环遍历要遍历多个List ^itLgBEwf

优化方案一
将 PMC、PHC、PWC 的Buff修改函数
移到 PBC 让 PBC 统一进行修改
这样泛型只需要写PBC了 ^KRhIGl1v

buff 允许叠加 
重新获得时：重置时间、增加层数
buff允许替换
重新获得时：重置时间
独立
重新获得时：挂一个新buff ^jFbB8Xsa

%%
## Drawing
```compressed-json
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

CcHv7gH5dQycAQrAUIUcIS0tXAyIAA==
```
%%