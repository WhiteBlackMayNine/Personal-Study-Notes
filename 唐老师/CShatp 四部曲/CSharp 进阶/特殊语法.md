---
tags:
  - 科学/编程语言/Csharp/唐老师/进阶/特殊语法
created: 2024-03-22
课时: "48"
来源: https://www.taikr.com/course/1144/task/36075/show
---

---
# 关联知识点


---
# 知识点

## `var`隐式类型

- `var`是一种特殊的变量类型
- 它可以用来表示任意类型的变量
- 注意
	- `var`不能作为类的成员 只能用于临时变量申明时
		- 也就是 一般写在函数语句块中
	- `var`必须初始化
		- 初始化类型为什么，类型就是什么
## 设置对象初始值

- 申明对象时，可以通过直接写大括号的形式初始化公共成员变量和属性
	- `Person p = new Person(){sex = true, Age = 18,Name = "唐老狮"};`
## 设置集合初始值

- 申明集合对象时，也可以通过大括号 直接初始化内部属性
	- `int[] array2 =new int[]{1，2，3，4，5};`
## 匿名类型

- `var`变量可以申明为自定义的匿名类型
- `var v = new { age = 10,money = 11,name = "小明"};
	- 可以理解为没有名字的函数
	- 只能有成员变量，不能有函数相关
## 可空类型 ^e3a756

- 值类型是不能赋值为 空的
	- 申明时 在值类型后面加`?`可以赋值为空
		- `int? i = null;`
- 判断是否为空
	- `i.HasValue`
- 安全获取可空类型值
	- 如果为空 默认返回值类型的默认值
		- `value.GetValueOrDefault()`
	- 也可以指定一个默认值
		- `value.GetValueOrDefault(100)
	- 这个方法并没有进行赋值
- 引用类型也可以使用`?
	- 相当于是一种语法糖 能够帮助我们自动去判断o是否为空
	- 如果是`null`就不会执行`tostring`也不会报错（但会返回空）
		- `o?.Tostring();`
	- 也算是一种语法糖[[Csharp 小知识点#^5cab31]]
### 空合并操作符

- 空合并操作符`??`
	- `左边值 ??右边值
- 如果左边值为`null`就返回右边值 否则返回左边值
- 只要是可以为`null`的类型都能用
- `string str = null;str = str ?? "hahah";
## 内插字符串

- 关键符号 `$
- 用`$`来构造字符串，让字符串中可以拼接变量
- `Console.WriteLine($"好好学习,{name},年龄:{age}");
## 单句逻辑简略写法

- 当[[循环语句]]或者[[条件分支语句]]中只有 一句代码时 大括号可以省略
- 类中属性或函数只有一句逻辑，可使用`=>`直接写逻辑
	- `public void Speak(string str) => Console.Write(str);`

---
# 源代码

![[特性知识点  1.cs]]

---


