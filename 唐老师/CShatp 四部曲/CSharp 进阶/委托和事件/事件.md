---
tags:
  - 科学/编程语言/Csharp/唐老师/进阶/委托和事件/事件
created: 2024-03-22
课时: "26"
来源: https://www.taikr.com/course/1144/task/35953/show
备注: 建立在委托上
---

---
# 关联知识点

[[委托]]

---
# 知识点

## 理解

委托作用范围更大，在类的内外部都可以进行使用（赋值、调用）
但事件只能作用与类的内部（赋值，调用），在类的外部只能进行加减

## 事件是什么

- 事件是基于委托的存在
- 事件是委托的安全包裹
- 让委托的使用更具有安全性
- 事件，是一种特殊的 “变量类型”
## 事件的使用

### 声明语法

- `访问修饰符 event 委托类型 事件名;`
### 使用

- 事件是作为 [[成员变量和访问修饰符|成员变量]] 存在于类中
- 委托怎么使用，事件就怎么用
### 事件相较于委托区别

- 不能在类外部赋值
- 不能在类外部调用
### 注意

- 只能作为成员变量存在于类和接口及结构体中
### 示例

#### 声明

- `class Text{ public Action myFun; public event Action myEvent; }`
	- 委托成员变量用于存储函数
	- 事件成员变量用于存储函数
#### 使用

- 在类中，两者使用一模一样，没有任何区别
- 但事件不能在类的外部赋值，只能在类中封装，调用
	- 虽然不能直接赋值，但可以通过 加减 去添加移除记录的函数
- 事件是不能作为临时变量在函数中使用的
	- `event Action action = Fun;` （Fun 为一个函数）
		- 会报错
## 为什么有事件

- 防止外部随意置空委托
- 防止外部随意调用委托
- 事件相当于对委托进行了一次封装，让其更加安全

---
# 总结

- 事件和委托的区别
	- 事件和委托的使用基本是一模一样的
	- 事件就是特殊的委托
- 主要区别
	- 事件不能在外部使用赋值`=`符号，只能使用`+ -`委托 哪里都能用
		- `MyFun = Fun1 + Fun2;` 也会报错
			- `MyFun Fun1 Fun2` 分别为 事件、函数、函数
	- 事件 不能再外部执行 委托哪里都能执行
	- 事件 不能作为 函数中的临时变量的 委托可以

---
# 源代码

![[事件 知识点.cs]]

---
# 练习题

![[事件 练习题.cs]]

---



