---
tags:
  - 科学/编程语言/Csharp/唐老师/基础/值类型和引用类型
created: 2024-03-21
课时: 11 13
来源 - 11: https://www.taikr.com/course/1131/task/35059/show#
来源 - 13: https://www.taikr.com/course/1131/task/35061/show
---

---
# 关联知识点

[[值类型和引用类型补充]]

---
# 知识点

## 使用和存储上的区别

- 引用类型
	- `string` ，数组，类，委托，`interface
- 值类型
	- 除上述外都是
- 区别
	- 使用上区别
		- 值类型
			- 在相互赋值时，把内容**拷贝**给了对方，**它变我不变
		- 引用类型
			- 在相互赋值时，让两者**指向**同一个值，**它变我也变
	- 为什么有以上区别
		- 存储在内存区域是不同的，存储方式也不同
		- 值类型存储在 **栈空间** —— 系统分配，自动回收，**小而快
		- 引用类型存储在 **堆空间** —— 手动分配，人工回收，**大而慢
			- 赋值时，两者在 栈空间 的地址 都指向了 堆空间 的统一值
			- 地址不变，指向不变
			- 使用`new`开辟的内存空间会破坏地址的指向，从而指向一个新的值
	- 值类型和引用类型的本质区别
		- 值的具体内容存在栈内存上
		- 引用的具体内容存在堆内存上
## 理解

- 可以理解为 引用类型 在 栈空间 里有一个自己的地址，这个地址会指向 堆空间 里的一个值
- 若地址相同，则都会指向 堆空间 里一个相同的值
- `new` 关键字 会开辟出新的内存空间，从而改变地址指向的值

## 特殊的引用类型`string`


- `string` 具备值类型特征，遵循 **它变我不变**
- `string` 频繁的赋值会产生内存垃圾
	- 优化方案在 **核心** 中

---

