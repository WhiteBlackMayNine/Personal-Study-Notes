---
tags:
  - 科学/Unity/唐老狮/Unity基础/MonoBehavior中的重要内容/延迟函数
created: 2024-03-23
课时: "24"
来源: https://www.taikr.com/course/1190/task/38724/show
---

---
# 关联知识点

---
# 知识点

## 概念

- 延迟函数顾名思义，就是会延时执行的函数
- 我们可以自己设定延时要执行的函数和具体延时的时间
- 是 MonoBehaviour 基类中实现好的方法
## 使用

### 延迟函数

- `Invoke`
	- 参数一：函数名 字符串
	- 参数二：延迟时间 秒为单位
- `Inovke("函数名字符串",5);`
	- 存在 反射机制
- 注意
	- 延时函数第一个参数传入的是函数名的字符串
	- 延时函数没办法传入参数
		- 如果函数有参数，那么会自动寻找无参的重载函数
		- 可以在无参的重载函数内部调用有参的函数
			- 也就是包裹一层
	- 函数名必须是该脚本上申明的函数
### 延迟重复函数

- `InvokeRepeating
	- 参数一：函数名字符串
	- 参数二：会第一次执行的延迟时间
	- 参数三：之后每次执行的间隔时间
- `InvokeRepeating("函数名字符串",5,1);`
- 注意
	- 它的注意事项和延时函数一致
### 取消延迟函数

- `CancelInvoke();`
	- 取消该脚本上的所有延时函数执行
- `CancelInvoke("函数名字符串");`
	- 指定函数名取消
	- 只要取消了指定延迟 不管之前该函数开启了多少次 延迟执行 都会统一取消
### 判断是否有延迟函数

- `IsInvoking();`
	- 只要有延迟函数就返回 `true
- `IsInvoking("函数名字符串");`
## 延迟函数受对象失活销毁影响

- 脚本依附对象失活 或者 脚本自己是否
	- 延迟函数可以继续执行
- 脚本依附对象销毁 或者 脚本移除
	- 延迟函数无法继续执行

---
# 总结

- 继承 `MonoBehavior` 的脚本可以使用延时相关函数
- 函数相关
	- `Invoke` 延时函数
	- `InvokeRepeating` 延时重复函数
	- `CancelInvoke` 停止所有或者指定延时函数
	- `IsInvoking` 判断是否有延时函数待执行
- 使用相关
	- 参数都是函数名，无法传参数
	- 只能执行该脚本中申明的函数
	- 对象或脚本失活无法停止延时函数执行，只有销毁组件或者对象才会停止或者代码停止

---
# 源代码

![[延迟函数 知识点 .cs]]

![[Test.cs]]

---
# 练习题

![[延迟函数 练习题.cs]]

---


