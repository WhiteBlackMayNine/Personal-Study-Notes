---
tags:
  - "#Cpp"
  - "#算法"
created: 2025-05-03
---

---
# 关联知识点

[[006 丑数]]

---
# 题目

给定一个整数，写一个函数来判断它是否是 3 的幂次方。如果是，返回 `true` ；否则，返回 `false` 。

整数 `n` 是 3 的幂次方需满足：存在整数 `x` 使得 `n == 3x`

# 示例

**示例 1：**

**输入：**n = 27
**输出：**true

**示例 2：**

**输入：**n = 0
**输出：**false

**示例 3：**

**输入：**n = 9
**输出：**true

**示例 4：**

**输入：**n = 45
**输出：**false

# 题解

我们不断地将 n 除以 3，直到 n=1。如果此过程中 n 无法被 3 整除，就说明 n 不是 3 的幂。

本题中的 n 可以为负数或 0，可以直接提前判断该情况并返回 False，也可以进行试除，因为负数或 0 也无法通过多次除以 3 得到 1

或者：

如果 n 是 3 的幂，即 $n=3^k$，那么在本题的数据范围下，$3^k$ 必然是 $3^{19}=1162261467$ 的因子

如果 n 不是 3 的幂，即 $n=3^k \times m$，n 的质因子分解中必然包含其他不等于 3 的质数

所以 $3^k \times m$ 必然不是 $3^{19}$ 的因子（注意 $3^{19}$ 的因子只能是 3 的幂）

如果 n>0，可以用 1162261467 modn=0 判断，若成立，则 n 是 3 的幂；若不成立，则 n 不是 3 的幂。
如果 n≤0，n 不是 3 的幂。



# 代码

```C++
//循环遍历
class Solution {  
public:  
    bool isPowerOfThree(int n) {  
        while (n && n % 3 == 0) {  
            n /= 3;  
        }  
        return n == 1;  
    }  
};
```

```C++
//数学方法
class Solution {  
public:  
    bool isPowerOfThree(int n) {  
        return n > 0 && 1162261467 % n == 0;  
    }  
};
```


---
