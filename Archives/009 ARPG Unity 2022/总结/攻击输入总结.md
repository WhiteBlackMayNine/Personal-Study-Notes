---
tags:
  - "#科学/Unity/ARPG/总结/攻击输入总结"
created: 2024-08-15
---

---
# 关联知识点



---
# 说明

（这里以玩家攻击为例）

基类 [[CharacterCombatBase]] 完成 敌人和玩家 共同的一些功能（攻击事件触发、伤害触发也是相同的）

玩家的攻击输入，需要监听鼠标按键的左右键，如果按下了左键就去播放普通攻击，如果按下了右键就去播放派生攻击

[[CharacterComboSO]] 创建出来的是一个连招表，每个招式都有自己对应的索引值（从0开始）

需要通过改变 *连招索引值* 去改变执行相应的动作

执行攻击动作逻辑并不复杂，[[PlayerCombat#^edf3bb|CharacterBaseAttackInput]] 中会根据左右键来切换不同的连招表，然后去执行动作 

在 执行动作 `ExecuteComboAction()` 函数中，会去调用计时器，这段时间就是攻击冷却时间

在计时结束后（冷却结束），计时器会去执行 `UpdataComboInfo` 更新连招索引值

索引值更新后，就会确保下一次再按左键（假设之前是按左键执行动作）时，播放的是 普通攻击 连招表中的连招

造成伤害 ——> [[造成伤害总结]]











---
