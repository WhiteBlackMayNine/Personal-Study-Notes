---
tags:
  - 科学/Unity/唐老狮/Unity核心/2D动画/2D骨骼动画/2DAnimation/反向动力学IK
created: 2024-07-25
更新:
---

---
# 关联知识点



---
# 什么是IK

- 在骨骼动画中，构建骨骼的方法被称为正向动力学
- 它的表现形式是，子骨骼（关节）的位置根据父骨骼（关节）的旋转而改变
- 用我们人体举例子
	- 当我们抬起手臂时，是肩部关节带动的整个手臂的运动
	- 用父子骨骼理解的话就是 **父带动了子**
- 而IK全称是 Inverse Kinematics，翻译过来的意思就是反向动力学的意思
- 它和正向动力学恰恰相反
- 它的表现形式是
	- 子骨骼（关节）未端的位置改变会带动自己以及自己的父骨骼（关节）旋转
- 用我们人体举例子
	- 当我们拿起一个杯子的时候是用手掌去拿
	- 以杯子为参照物，我们移动杯子的位置
	- 手臂会随着杯子一起移动用
	- 父子骨骼理解的话就是 **子带动了父**
# 2D IK包引入

- 在 Package Manager 窗囗中引入 2D IK 工具包
- 需要在 Advanced 高级选项中选中 Show Previewpackages（显示预览包）后刷新
- 这样才能看到 2D IK 相关内容
## 注意

- 如果在引入包时报错，需要在 windows 防火墙中添加入站规则
- 开始栏 ——> 右键 ——> 搜索防火墙 ——> Window Defender 防火墙 ——> 高级设置
- ——> 左上角 入站规则 ——> 右侧 新建规则 ——> 程序 
- ——> 此程序路径  Unity 的 exe （快捷方式也可以）——> 允许连接 ——> 三个都选
- ——> 名字随便整就行
# 2D IK的使用

- 利用 PSB 文件进行讲解
## IK Manager 2D
### IK Solvers

- lK解算器，在这里添加
	- Chain（CCD）
	- Chain（FABRIK）
	- Limb
		- 这个一般用于人体的四肢
- 添加完后会创建一个新的空物体
	- 空物体会挂载新的脚本
#### Chain（CCD）

- 可以自定义影响N个关节点
- 不能反向
- 创建的脚本为
#### Chain（FABRIK）

- 可以自定义影响N个关节点，可以反向
#### Limb

- 只会影响3个关节点
#### 参数讲解
##### Effector

- 默认的IK点位置
- 一般都是末节点
	- 比如手、脚、权杖的顶点/最低点
##### Target

- 会根据IK点位置生成真正的IK点对象
##### Flip

- 反向
##### Constrain Rotation

- 约束旋转程度
##### Solve from Default Pose

- 从默认姿势进行求解计算
##### Weight

- 权重
##### Chain Length

- lK影响的骨骼数量
##### Iterations

- 算法运行的次数

#### Tolerance

- 容错程度
##### Velocity

- 速度
### IKWeight

- 权重，当有多个IK控制同一点时，权重会影响控制的百分比
### Restore Default Pose

- 恢复默认位置
# IK对于我们的意义

- 瞄准功能
- 头部朝向功能
- 拾取物品功能
- 等等有指向性的功能时 我们都可以通过IK来达到目的
- 最大的作用，可以方便我们进行动画制作
# 注意

- 动根骨骼时，IK点会锁住动不了
- 如果希望 IK点 跟着动
- 可以把 IK点 所创建的那些物体放到根节点下面
	- 做为子对象
- 整体改变根骨骼位置，想要 IK点 不影响的话，可以这样做

---
