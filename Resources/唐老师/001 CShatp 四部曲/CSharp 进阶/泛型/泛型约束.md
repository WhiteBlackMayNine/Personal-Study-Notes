---
tags:
  - 科学/编程语言/Csharp/唐老狮/进阶/泛型/泛型约束
created: 2024-03-22
课时: "12"
来源: https://www.taikr.com/course/1144/task/35939/show
---

---
# 关联知识点

[[泛型]]

---
# 知识点

## 什么是泛型约束

### 概念

- 让泛型的类型有一定的限制
- 可以在类声明中使用，也可以在方法声明中使用
- 给占位字符加约束条件
### 关键字

- `where
## 分类

### 值类型

- `where 泛型字母:struct
### 引用类型

- `where 泛型字母:class
### 存在无参公共构造函数

- `where 泛型字母:new()
### 某个类本身或者其派生类

- `where 泛型字母:类名
### 某个接口的派生类型

- `where 泛型字母:接口名
### 另一个泛型类型本身或者派生类型

- `where 泛型字母:另一个泛型字母
## 基本语法

- `where 泛型字母:(约束的类型)`
## 各泛型约束讲解

### 值类型约束

- `class Text1<T> where T:struct{}`
	- 在主函数中声明使用时，传入的类型只能是**值类型
### 引用类型约束

- `class Text1<T> where T:class {}`
	- 传入的类型只能是**引用类型
### 公共无参构造约束

- `class Text1<T> where T:new() {}`
	- T 类型 必须有一个公共无参构造函数（例如一个 类 ）
	- 如果访问修饰符不为`public`或无参构造函数被顶掉，便会报错
	- 值类型和引用类型都可以传入，只要有公共无参构造函数就行
		- 值类型有公共无参构造函数
		- 抽象类 / 接口 即使有，也不能传入
### 类约束

- `class Text1<T> where T:类名 {}`
	- 传入的参数必须是 这个类 或这个 类的派生类（子类）
		- 父类不行
### 接口约束

-  `class Text1<T> where T:接口名 {}`
	- 传入的参数必须是 这个接口 的派生类（子类）
### 另一个泛型约束

-  `class Text1<T> where T:另一个泛型字母 {}`
	- 两个泛型一样，或者 T 是另一个泛型的派生类型
## 约束的组合使用

-  `class Text1<T> where T:new(),class {}`
	- 使用`,`隔开
	- 如果报错就代表
## 多个泛型有约束

-  `class Text1<T,k> where T:new() where K:class {}`
	- 不需要额外的`,`
	- 直接写`where`按照基本语法写

---
# 源代码

![[泛型约束知识点.cs]]

---
# 练习题

![[泛型约束练习题.cs]]

---
